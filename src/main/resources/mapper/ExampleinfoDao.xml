<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.leetcode.mapper.ExampleinfoDao">

    <resultMap type="com.leetcode.entity.Exampleinfo" id="ExampleinfoMap">
        <result property="exampleid" column="exampleId" jdbcType="INTEGER"/>
        <result property="exampleinput" column="exampleInput" jdbcType="VARCHAR"/>
        <result property="exampleoutput" column="exampleOutput" jdbcType="VARCHAR"/>
        <result property="exampleexplain" column="exampleExplain" jdbcType="VARCHAR"/>
        <result property="exampleimage" column="exampleImage" jdbcType="VARCHAR"/>
        <result property="problemid" column="problemId" jdbcType="INTEGER"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="ExampleinfoMap">
        select
          exampleId, exampleInput, exampleOutput, exampleExplain, exampleImage, problemId
        from leetcode.exampleinfo
        where exampleId = #{exampleid}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="ExampleinfoMap">
        select
          exampleId, exampleInput, exampleOutput, exampleExplain, exampleImage, problemId
        from leetcode.exampleinfo
        limit #{offset}, #{limit}
    </select>

    <!--通过实体作为筛选条件查询-->
    <select id="queryAll" resultMap="ExampleinfoMap">
        select
        exampleId, exampleInput, exampleOutput, exampleExplain, exampleImage, problemId
        from leetcode.exampleinfo
        <where>
            <if test="exampleid != null">
                and exampleId = #{exampleid}
            </if>
            <if test="exampleinput != null and exampleinput != ''">
                and exampleInput = #{exampleinput}
            </if>
            <if test="exampleoutput != null and exampleoutput != ''">
                and exampleOutput = #{exampleoutput}
            </if>
            <if test="exampleexplain != null and exampleexplain != ''">
                and exampleExplain = #{exampleexplain}
            </if>
            <if test="exampleimage != null and exampleimage != ''">
                and exampleImage = #{exampleimage}
            </if>
            <if test="problemid != null">
                and problemId = #{problemid}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="exampleid" useGeneratedKeys="true">
        insert into leetcode.exampleinfo(exampleInput, exampleOutput, exampleExplain, exampleImage, problemId)
        values (#{exampleinput}, #{exampleoutput}, #{exampleexplain}, #{exampleimage}, #{problemid})
    </insert>

    <insert id="insertBatch" keyProperty="exampleid" useGeneratedKeys="true">
        insert into leetcode.exampleinfo(exampleInput, exampleOutput, exampleExplain, exampleImage, problemId)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.exampleinput}, #{entity.exampleoutput}, #{entity.exampleexplain}, #{entity.exampleimage},
            #{entity.problemid})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="exampleid" useGeneratedKeys="true">
        insert into leetcode.exampleinfo(exampleInput, exampleOutput, exampleExplain, exampleImage, problemId)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.exampleinput}, #{entity.exampleoutput}, #{entity.exampleexplain}, #{entity.exampleimage},
            #{entity.problemid})
        </foreach>
        on duplicate key update
        exampleInput = values(exampleInput) , exampleOutput = values(exampleOutput) , exampleExplain =
        values(exampleExplain) , exampleImage = values(exampleImage) , problemId = values(problemId)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update leetcode.exampleinfo
        <set>
            <if test="exampleinput != null and exampleinput != ''">
                exampleInput = #{exampleinput},
            </if>
            <if test="exampleoutput != null and exampleoutput != ''">
                exampleOutput = #{exampleoutput},
            </if>
            <if test="exampleexplain != null and exampleexplain != ''">
                exampleExplain = #{exampleexplain},
            </if>
            <if test="exampleimage != null and exampleimage != ''">
                exampleImage = #{exampleimage},
            </if>
            <if test="problemid != null">
                problemId = #{problemid},
            </if>
        </set>
        where exampleId = #{exampleid}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from leetcode.exampleinfo where exampleId = #{exampleid}
    </delete>

</mapper>

